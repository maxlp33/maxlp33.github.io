<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="Content-Security-Policy" content="script-src 'self' 'unsafe-inline'; object-src 'none';">
    <title>Colt M1911 Pistol - Max Liu Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="project.css">
    <style>
        /* Click Spark Effect */
        .spark {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
        }

        .spark-particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 100%);
            border-radius: 50%;
            animation: sparkAnimation 0.6s ease-out forwards;
        }

        @keyframes sparkAnimation {
            0% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: scale(0.2) rotate(180deg);
            }
        }
    </style>
</head>
<body>
    <!-- Starry Background -->
    <div class="starry-bg" id="starry-bg"></div>

    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <div class="logo-cube">
                    <div class="logo-cube-face front">ML</div>
                    <div class="logo-cube-face back">ML</div>
                    <div class="logo-cube-face right">M</div>
                    <div class="logo-cube-face left">L</div>
                    <div class="logo-cube-face top">ML</div>
                    <div class="logo-cube-face bottom">ML</div>
                </div>
            </a>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="index.html#about" class="nav-link" data-zh="ÈóúÊñºÊàë" data-en="About">About</a></li>
                <li><a href="index.html#projects" class="nav-link" data-zh="‰ΩúÂìÅÈõÜ" data-en="Projects">Projects</a></li>
                <li><a href="index.html#contact" class="nav-link" data-zh="ËÅØÁµ°Êàë" data-en="Contact">Contact</a></li>
            </ul>
            <div class="language-selector">
                <button class="language-btn" id="language-btn">
                    <span id="current-lang">English</span>
                    <span>‚ñº</span>
                </button>
                <div class="language-dropdown" id="language-dropdown">
                    <button class="language-option" data-lang="zh">‰∏≠Êñá</button>
                    <button class="language-option" data-lang="en">English</button>
                </div>
            </div>
            <div class="menu-toggle" id="menu-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Project Header -->
    <section class="project-header">
        <div class="project-header-content">
            <h1 class="project-title-main">Colt M1911 Pistol</h1>
            <p class="project-subtitle" data-zh="Á∂ìÂÖ∏ÁæéÂºèÊâãÊßçÁöÑÁ≤æÂØÜ 3D ÈáçÂª∫" data-en="Precision 3D Reconstruction of Classic American Sidearm">Precision 3D Reconstruction of Classic American Sidearm</p>
            <div class="project-meta">
                <span class="meta-item">üî´ 3D Modeling</span>
                <span class="meta-item">‚è±Ô∏è 4 Weeks</span>
                <span class="meta-item">üéØ PBR Asset</span>
                <span class="meta-item">üõ†Ô∏è Blender & Substance</span>
            </div>
        </div>
    </section>

    <!-- Project Content -->
    <section class="project-content">
        <a href="index.html#projects" class="back-link">‚Üê Back to Projects</a>
        
        <!-- Gallery -->
        <div class="project-gallery">
            <div class="gallery-container">
                <div class="gallery-main-display">
                    <img id="main-gallery-image" src="img/m1911-TN.png" alt="M1911 Main View" class="main-gallery-image">
                </div>
                <div class="gallery-thumbnails">
                    <div class="thumbnail-item active" data-src="img/m1911-TN.png" data-alt="M1911 Main View">
                        <img src="img/m1911-TN.png" alt="M1911 Main View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-1.png" data-alt="M1911 View 1">
                        <img src="img/m1911-1.png" alt="M1911 View 1">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-2.png" data-alt="M1911 View 2">
                        <img src="img/m1911-2.png" alt="M1911 View 2">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-3.png" data-alt="M1911 Side View">
                        <img src="img/m1911-3.png" alt="M1911 Side View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-4.png" data-alt="M1911 Angle View">
                        <img src="img/m1911-4.png" alt="M1911 Angle View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-5.png" data-alt="M1911 Close-up">
                        <img src="img/m1911-5.png" alt="M1911 Close-up">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-6.png" data-alt="M1911 Technical View">
                        <img src="img/m1911-6.png" alt="M1911 Technical View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-7.png" data-alt="M1911 Detail View">
                        <img src="img/m1911-7.png" alt="M1911 Detail View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-8.png" alt="M1911 Final View">
                        <img src="img/m1911-8.png" alt="M1911 Final View">
                    </div>
                    <div class="thumbnail-item" data-src="img/m1911-7 with back.png" data-alt="M1911 With Background">
                        <img src="img/m1911-7 with back.png" alt="M1911 With Background">
                    </div>
                </div>
            </div>
        </div>

        <!-- Lightbox Modal -->
        <div id="lightbox" class="lightbox">
            <div class="lightbox-content">
                <span class="lightbox-close">&times;</span>
                <button class="lightbox-arrow lightbox-prev" onclick="changeLightboxImage(-1)">‚Äπ</button>
                <img id="lightbox-image" src="" alt="">
                <button class="lightbox-arrow lightbox-next" onclick="changeLightboxImage(1)">‚Ä∫</button>
                <div class="lightbox-counter">
                    <span id="current-image">1</span> / <span id="total-images">10</span>
                </div>
            </div>
        </div>

        <!-- Project Details -->
        <div class="project-details">
            <div class="detail-section">
                <h3 data-zh="È†ÖÁõÆÊ¶ÇËø∞" data-en="Project Overview">Project Overview</h3>
                <p data-zh="Colt M1911 ÊòØÁæéÂúãËªçÈöä‰ΩøÁî®Ë∂ÖÈÅé 70 Âπ¥ÁöÑÁ∂ìÂÖ∏ÊâãÊßç„ÄÇÈÄôÂÄã 3D Âª∫Ê®°È†ÖÁõÆËá¥ÂäõÊñºÁ≤æÁ¢∫ÈáçÁèæÈÄôÊääÊ®ôË™åÊÄßÊ≠¶Âô®ÁöÑÊØè‰∏ÄÂÄãÊ©üÊ¢∞Á¥∞ÁØÄÔºåÂæûÁ≤æÂØÜÁöÑÊªëÂ•óÊ©üÊßãÂà∞Êè°Êää‰∏äÁöÑÁ¥∞ÂæÆÁ¥ãÁêÜ„ÄÇ" data-en="The Colt M1911 is a classic sidearm used by the US military for over 70 years. This 3D modeling project is dedicated to precisely recreating every mechanical detail of this iconic weapon, from the intricate slide mechanism to the subtle grip textures.">The Colt M1911 is a classic sidearm used by the US military for over 70 years. This 3D modeling project is dedicated to precisely recreating every mechanical detail of this iconic weapon, from the intricate slide mechanism to the subtle grip textures.</p>
                
                <p data-zh="È†ÖÁõÆÈáçÈªûÂú®ÊñºÊ©üÊ¢∞ÁµêÊßãÁöÑÊ∫ñÁ¢∫ÊÄßÂíåË°®Èù¢ÊùêË≥™ÁöÑÁúüÂØ¶ÊÑü„ÄÇÊé°Áî®Áèæ‰ª£ PBR ÊùêË≥™Â∑•‰ΩúÊµÅÁ®ãÔºåÁ¢∫‰øùÊ®°ÂûãÂú®‰∏çÂêåÊ∏≤ÊüìÂºïÊìé‰∏≠ÈÉΩËÉΩÂëàÁèæÂá∫Â∞àÊ•≠Á¥öÂà•ÁöÑË¶ñË¶∫ÊïàÊûú„ÄÇÊØèÂÄãÈõ∂‰ª∂ÈÉΩÁ∂ìÈÅé‰ªîÁ¥∞Á†îÁ©∂ÂíåË£Ω‰ΩúÔºå‰ª•ÈÅîÂà∞ÂçöÁâ©È§®Á¥öÂà•ÁöÑÁ≤æÁ¢∫Â∫¶„ÄÇ" data-en="The project focuses on mechanical accuracy and realistic surface materials. Using modern PBR material workflow ensures the model delivers professional-grade visual results across different rendering engines. Every component was carefully researched and crafted to achieve museum-level precision.">The project focuses on mechanical accuracy and realistic surface materials. Using modern PBR material workflow ensures the model delivers professional-grade visual results across different rendering engines. Every component was carefully researched and crafted to achieve museum-level precision.</p>
            </div>

            <div class="detail-section">
                <h3 data-zh="ÊäÄË°ìË¶èÊ†º" data-en="Technical Specifications">Technical Specifications</h3>
                <ul class="tech-list">
                    <li data-zh="üîß Blender 3.6 - Á≤æÂØÜÂª∫Ê®°" data-en="üîß Blender 3.6 - Precision Modeling">üîß Blender 3.6 - Precision Modeling</li>
                    <li data-zh="üé® Substance Painter - PBR ÊùêË≥™" data-en="üé® Substance Painter - PBR Materials">üé® Substance Painter - PBR Materials</li>
                    <li data-zh="üìê ‰∏≠Á≠âÈù¢Êï∏ (12,000 Èù¢)" data-en="üìê Mid-poly Model (12,000 triangles)">üìê Mid-poly Model (12,000 triangles)</li>
                    <li data-zh="üñºÔ∏è 2K È´òËß£ÊûêÂ∫¶Ë≤ºÂúñ" data-en="üñºÔ∏è 2K High-Resolution Textures">üñºÔ∏è 4K High-Resolution Textures</li>
                    <li data-zh="‚öôÔ∏è Ê©üÊ¢∞ÁµêÊßã" data-en="‚öôÔ∏è Mechanical Parts">‚öôÔ∏è Functional Mechanical Parts</li>
                    <li data-zh="üìè 1:1 ÁúüÂØ¶ÊØî‰æã" data-en="üìè 1:1 Real-World Scale">üìè 1:1 Real-World Scale</li>
                </ul>
            </div>
        </div>

        <!-- Process Section -->
        <div class="detail-section">
            <h3 data-zh="Ë®≠Ë®àÈáçÈªû" data-en="Design Focus">Design Focus</h3>
            <p data-zh="ÈÄôÂÄãÈ†ÖÁõÆÁöÑÊ†∏ÂøÉÊåëÊà∞ÊòØÁ∑¥ÁøíÊì¨ÁúüÊßçÊ¢∞Âª∫Ê®°Âèä‰∏äÊùêË≥™„ÄÇÊàëËä±Ë≤ª‰∫ÜÂ§ßÈáèÊôÇÈñìÁ†îÁ©∂ M1911 ÁöÑÁµêÊßãÔºåÁ¢∫‰øùÊØèÂÄãÈõ∂‰ª∂ÈÉΩËÉΩÊ≠£Á¢∫ÁµÑË£ù„ÄÇÊùêË≥™Ë£Ω‰ΩúÁâπÂà•Ê≥®ÈáçÈáëÂ±¨Ë°®Èù¢ÁöÑÁ¥∞ÂæÆËÆäÂåñÔºåÂåÖÊã¨‰∏çÈèΩÈãºÁöÑÂèçÂ∞ÑÁâπÊÄßÂíåÊè°ÊääÊùêÊñôÁöÑËß∏ÊÑüË°®Áèæ„ÄÇ" data-en="The core challenge of this project was practicing realistic firearm modeling and texturing. I spent considerable time studying the M1911's structure, ensuring every part would assemble correctly. Material creation focused on subtle metal surface variations, including stainless steel reflective properties and grip material tactile representation.">The core challenge of this project was balancing historical accuracy with modern 3D production techniques. I spent considerable time studying the M1911's mechanical structure, ensuring every part would assemble correctly. Material creation focused on subtle metal surface variations, including stainless steel reflective properties and grip material tactile representation.</p>
        </div>
    </section>

    <script>
        // Language switching functionality
        let currentLanguage = 'en';
        
        function switchLanguage(lang) {
            currentLanguage = lang;
            const currentLangSpan = document.getElementById('current-lang');
            currentLangSpan.textContent = lang === 'zh' ? '‰∏≠Êñá' : 'English';
            
            document.querySelectorAll('[data-zh], [data-en]').forEach(element => {
                if (lang === 'zh' && element.hasAttribute('data-zh')) {
                    element.textContent = element.getAttribute('data-zh');
                } else if (lang === 'en' && element.hasAttribute('data-en')) {
                    element.textContent = element.getAttribute('data-en');
                }
            });
        }

        // Language selector functionality
        document.addEventListener('DOMContentLoaded', function() {
            const languageBtn = document.getElementById('language-btn');
            const languageDropdown = document.getElementById('language-dropdown');
            const languageOptions = document.querySelectorAll('.language-option');

            languageBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                languageDropdown.classList.toggle('active');
            });

            languageOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const selectedLang = this.getAttribute('data-lang');
                    switchLanguage(selectedLang);
                    languageDropdown.classList.remove('active');
                });
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                languageDropdown.classList.remove('active');
            });

            // Mobile menu toggle
            const menuToggle = document.getElementById('menu-toggle');
            const navMenu = document.getElementById('nav-menu');
            
            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active');
            });

            // Initialize page with English
            switchLanguage('en');
            
            // Gallery functionality
            const mainImage = document.getElementById('main-gallery-image');
            const thumbnails = document.querySelectorAll('.thumbnail-item');
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxClose = document.querySelector('.lightbox-close');
            const currentImageSpan = document.getElementById('current-image');
            const totalImagesSpan = document.getElementById('total-images');
            
            let currentImageIndex = 0;
            const galleryImages = Array.from(thumbnails).map(thumb => ({
                src: thumb.dataset.src,
                alt: thumb.dataset.alt
            }));
            
            // Update total images count
            totalImagesSpan.textContent = galleryImages.length;
            
            // Thumbnail click functionality
            thumbnails.forEach((thumb, index) => {
                thumb.addEventListener('click', () => {
                    // Update main image
                    mainImage.src = thumb.dataset.src;
                    mainImage.alt = thumb.dataset.alt;
                    
                    // Update active thumbnail
                    thumbnails.forEach(t => t.classList.remove('active'));
                    thumb.classList.add('active');
                    
                    // Update current index
                    currentImageIndex = index;
                });
            });
            
            // Main image click to open lightbox
            mainImage.addEventListener('click', () => {
                openLightbox(currentImageIndex);
            });
            
            // Lightbox functions
            function openLightbox(index) {
                currentImageIndex = index;
                lightboxImage.src = galleryImages[index].src;
                lightboxImage.alt = galleryImages[index].alt;
                currentImageSpan.textContent = index + 1;
                lightbox.style.display = 'block';
                document.body.style.overflow = 'hidden';
                document.body.classList.add('lightbox-open');
            }
            
            function closeLightbox() {
                lightbox.style.display = 'none';
                document.body.style.overflow = 'auto';
                document.body.classList.remove('lightbox-open');
            }
            
            window.changeLightboxImage = function(direction) {
                currentImageIndex += direction;
                if (currentImageIndex < 0) currentImageIndex = galleryImages.length - 1;
                if (currentImageIndex >= galleryImages.length) currentImageIndex = 0;
                
                lightboxImage.src = galleryImages[currentImageIndex].src;
                lightboxImage.alt = galleryImages[currentImageIndex].alt;
                currentImageSpan.textContent = currentImageIndex + 1;
                
                // Update main display and thumbnails
                mainImage.src = galleryImages[currentImageIndex].src;
                mainImage.alt = galleryImages[currentImageIndex].alt;
                thumbnails.forEach(t => t.classList.remove('active'));
                thumbnails[currentImageIndex].classList.add('active');
            };
            
            // Close lightbox events
            lightboxClose.addEventListener('click', closeLightbox);
            
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    closeLightbox();
                }
            });
            
            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (lightbox.style.display === 'block') {
                    if (e.key === 'Escape') {
                        closeLightbox();
                    } else if (e.key === 'ArrowLeft') {
                        changeLightboxImage(-1);
                    } else if (e.key === 'ArrowRight') {
                        changeLightboxImage(1);
                    }
                }
            });
            
            // Click Spark Effect - Minimalistic Burst
            function createSparkEffect(x, y) {
                const sparkContainer = document.createElement('div');
                sparkContainer.className = 'spark';
                sparkContainer.style.left = x + 'px';
                sparkContainer.style.top = y + 'px';
                
                // Create minimalistic burst with fewer particles
                const particleCount = 8;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'spark-particle';
                    
                    // Add subtle size variation
                    const sizes = ['small', '', 'large'];
                    const randomSize = sizes[Math.floor(Math.random() * sizes.length)];
                    if (randomSize) particle.classList.add(randomSize);
                    
                    // Calculate burst direction
                    const angle = (360 / particleCount) * i + Math.random() * 20 - 10;
                    const distance = Math.random() * 40 + 20; // 20-60px travel distance
                    const radian = angle * Math.PI / 180;
                    
                    const endX = Math.cos(radian) * distance;
                    const endY = Math.sin(radian) * distance;
                    
                    // Set CSS custom properties for the animation
                    particle.style.setProperty('--end-x', endX + 'px');
                    particle.style.setProperty('--end-y', endY + 'px');
                    
                    // Small stagger for inside-to-outside effect but starts immediately
                    particle.style.animationDelay = (i * 0.02) + 's';
                    
                    sparkContainer.appendChild(particle);
                }
                
                document.body.appendChild(sparkContainer);
                
                // Remove after animation completes
                setTimeout(() => {
                    if (sparkContainer.parentNode) {
                        sparkContainer.parentNode.removeChild(sparkContainer);
                    }
                }, 2500);
            }
            
            // Add click event listener for spark effect
            document.addEventListener('click', (e) => {
                // Don't create sparks on certain elements to avoid conflicts
                if (!e.target.closest('.lightbox, .language-dropdown, .nav-menu')) {
                    createSparkEffect(e.clientX, e.clientY);
                }
            });
            
            // Create subtle starry background
            function createStarryBackground() {
                const starryBg = document.getElementById('starry-bg');
                const starCount = 120; // Subtle amount of stars
                
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    
                    // Random position
                    star.style.left = Math.random() * 100 + '%';
                    star.style.top = Math.random() * 100 + '%';
                    
                    // Random size
                    const sizes = ['small', 'medium', 'large'];
                    const size = sizes[Math.floor(Math.random() * sizes.length)];
                    star.classList.add(size);
                    
                    // Random animation speed
                    const speeds = ['slow', 'fast', ''];
                    const speed = speeds[Math.floor(Math.random() * speeds.length)];
                    if (speed) star.classList.add(speed);
                    
                    // Random delay
                    star.style.animationDelay = Math.random() * 6 + 's';
                    
                    starryBg.appendChild(star);
                }
            }
            
            // Initialize starry background
            createStarryBackground();
            
            // Add error handling to all gallery images
            const galleryImageElements = document.querySelectorAll('.main-gallery-image, .thumbnail-item img');
            galleryImageElements.forEach(img => {
                img.addEventListener('error', function() {
                    console.log('Failed to load image:', this.src);
                    this.style.background = 'rgba(229, 229, 229, 0.1)';
                    this.style.display = 'flex';
                    this.style.alignItems = 'center';
                    this.style.justifyContent = 'center';
                    this.innerHTML = '<span style="color: #888; font-size: 14px;">Image not found</span>';
                });
                img.addEventListener('load', function() {
                    console.log('Successfully loaded:', this.src);
                });
            });
        });

        // Navbar scroll effect
        const navbar = document.getElementById('navbar');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
    </script>
</body>
</html>